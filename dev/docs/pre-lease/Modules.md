# Comprehensive Pre-Lease Module Refactoring Plan

I'll outline a complete modularization strategy that breaks down the original monolithic module into logical, cohesive components while maintaining proper interactions between them.

## 1. Module Architecture Overview

<svg id="mermaid-jhnkmc9ij8" width="100%" xmlns="http://www.w3.org/2000/svg" class="flowchart" style="max-width: 1647.06640625px;" viewBox="-35 0 1647.06640625 500.40728759765625" role="graphics-document document" aria-roledescription="flowchart-v2"><g><marker id="mermaid-jhnkmc9ij8_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-jhnkmc9ij8_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-jhnkmc9ij8_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-jhnkmc9ij8_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-jhnkmc9ij8_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-jhnkmc9ij8_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M444.699,45.091L366.083,52.076C287.466,59.061,130.233,73.03,51.617,88.682C-27,104.333,-27,121.667,-27,139C-27,156.333,-27,173.667,-27,191C-27,208.333,-27,225.667,-27,243C-27,260.333,-27,277.667,73.581,293.987C174.163,310.307,375.325,325.615,475.907,333.269L576.488,340.922" id="L_Main_DataModule_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M558.277,62L558.277,66.167C558.277,70.333,558.277,78.667,558.277,86.333C558.277,94,558.277,101,558.277,104.5L558.277,108" id="L_Main_UIComponents_1" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M671.855,41.759L798.571,49.299C925.286,56.839,1178.717,71.92,1305.433,88.126C1432.148,104.333,1432.148,121.667,1432.148,139C1432.148,156.333,1432.148,173.667,1432.148,185.833C1432.148,198,1432.148,205,1432.148,208.5L1432.148,212" id="L_Main_ExportModule_2" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M656.359,374L656.359,378.167C656.359,382.333,656.359,390.667,656.359,398.333C656.359,406,656.359,413,656.359,416.5L656.359,420" id="L_DataModule_DB_3" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M643.363,149.084L702.307,156.07C761.25,163.056,879.137,177.028,938.08,187.514C997.023,198,997.023,205,997.023,208.5L997.023,212" id="L_UIComponents_ValueBoxes_4" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M473.191,158.337L449.238,163.781C425.284,169.225,377.376,180.112,353.423,189.056C329.469,198,329.469,205,329.469,208.5L329.469,212" id="L_UIComponents_SidebarModule_5" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M473.191,148.669L411.11,155.725C349.029,162.78,224.866,176.89,162.785,187.445C100.703,198,100.703,205,100.703,208.5L100.703,212" id="L_UIComponents_SummaryModule_6" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M553.355,166L552.595,170.167C551.835,174.333,550.316,182.667,549.557,190.333C548.797,198,548.797,205,548.797,208.5L548.797,212" id="L_UIComponents_DetailsModule_7" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M643.363,160.515L663.456,165.596C683.549,170.677,723.736,180.838,743.829,189.419C763.922,198,763.922,205,763.922,208.5L763.922,212" id="L_UIComponents_ChartsModule_8" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M643.363,145.644L740.169,153.203C836.974,160.763,1030.585,175.881,1127.39,186.941C1224.195,198,1224.195,205,1224.195,208.5L1224.195,212" id="L_UIComponents_HelpModule_9" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M1381.221,270L1373.362,274.167C1365.503,278.333,1349.785,286.667,1341.926,294.333C1334.066,302,1334.066,309,1334.066,312.5L1334.066,316" id="L_ExportModule_ExcelExport_10" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M1483.076,270L1490.935,274.167C1498.794,278.333,1514.512,286.667,1522.371,294.333C1530.23,302,1530.23,309,1530.23,312.5L1530.23,316" id="L_ExportModule_ChartExport_11" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M100.703,270L100.703,274.167C100.703,278.333,100.703,286.667,180.002,298.254C259.3,309.842,417.897,324.684,497.195,332.105L576.494,339.526" id="L_SummaryModule_DataModule_12" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M548.797,270L548.797,274.167C548.797,278.333,548.797,286.667,556.815,294.71C564.834,302.753,580.871,310.506,588.89,314.383L596.908,318.259" id="L_DetailsModule_DataModule_13" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M763.922,270L763.922,274.167C763.922,278.333,763.922,286.667,755.903,294.71C747.885,302.753,731.848,310.506,723.829,314.383L715.81,318.259" id="L_ChartsModule_DataModule_14" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M997.023,270L997.023,274.167C997.023,278.333,997.023,286.667,953.552,297.469C910.081,308.271,823.139,321.542,779.668,328.178L736.196,334.813" id="L_ValueBoxes_DataModule_15" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path><path d="M1350.125,262.605L1327.535,268.004C1304.945,273.403,1259.766,284.202,1157.449,297.027C1055.132,309.853,895.679,324.707,815.952,332.134L736.225,339.56" id="L_ExportModule_DataModule_16" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-jhnkmc9ij8_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default  " id="flowchart-Main-40" transform="translate(558.27734375, 35)"><rect class="basic label-container" style="" x="-113.578125" y="-27" width="227.15625" height="54"></rect><g class="label" style="" transform="translate(-83.578125, -12)"><rect></rect><foreignObject width="167.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Main Pre-Lease Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-DataModule-41" transform="translate(656.359375, 347)"><rect class="basic label-container" style="" x="-75.8828125" y="-27" width="151.765625" height="54"></rect><g class="label" style="" transform="translate(-45.8828125, -12)"><rect></rect><foreignObject width="91.765625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Data Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-UIComponents-43" transform="translate(558.27734375, 139)"><rect class="basic label-container" style="" x="-85.0859375" y="-27" width="170.171875" height="54"></rect><g class="label" style="" transform="translate(-55.0859375, -12)"><rect></rect><foreignObject width="110.171875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">UI Components</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ExportModule-45" transform="translate(1432.1484375, 243)"><rect class="basic label-container" style="" x="-82.0234375" y="-27" width="164.046875" height="54"></rect><g class="label" style="" transform="translate(-52.0234375, -12)"><rect></rect><foreignObject width="104.046875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Export Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-DB-47" transform="translate(656.359375, 458.2036476135254)"><path d="M0,9.80243161094225 a40.3125,9.80243161094225 0,0,0 80.625,0 a40.3125,9.80243161094225 0,0,0 -80.625,0 l0,48.80243161094225 a40.3125,9.80243161094225 0,0,0 80.625,0 l0,-48.80243161094225" class="basic label-container" style="" label-offset-y="9.80243161094225" transform="translate(-40.3125, -34.203647416413375)"></path><g class="label" style="" transform="translate(-32.8125, -2)"><rect></rect><foreignObject width="65.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Database</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ValueBoxes-49" transform="translate(997.0234375, 243)"><rect class="basic label-container" style="" x="-101.2421875" y="-27" width="202.484375" height="54"></rect><g class="label" style="" transform="translate(-71.2421875, -12)"><rect></rect><foreignObject width="142.484375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Value Boxes Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-SidebarModule-51" transform="translate(329.46875, 243)"><rect class="basic label-container" style="" x="-86.0625" y="-27" width="172.125" height="54"></rect><g class="label" style="" transform="translate(-56.0625, -12)"><rect></rect><foreignObject width="112.125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Sidebar Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-SummaryModule-53" transform="translate(100.703125, 243)"><rect class="basic label-container" style="" x="-92.703125" y="-27" width="185.40625" height="54"></rect><g class="label" style="" transform="translate(-62.703125, -12)"><rect></rect><foreignObject width="125.40625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Summary Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-DetailsModule-55" transform="translate(548.796875, 243)"><rect class="basic label-container" style="" x="-83.265625" y="-27" width="166.53125" height="54"></rect><g class="label" style="" transform="translate(-53.265625, -12)"><rect></rect><foreignObject width="106.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Details Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ChartsModule-57" transform="translate(763.921875, 243)"><rect class="basic label-container" style="" x="-81.859375" y="-27" width="163.71875" height="54"></rect><g class="label" style="" transform="translate(-51.859375, -12)"><rect></rect><foreignObject width="103.71875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Charts Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-HelpModule-59" transform="translate(1224.1953125, 243)"><rect class="basic label-container" style="" x="-75.9296875" y="-27" width="151.859375" height="54"></rect><g class="label" style="" transform="translate(-45.9296875, -12)"><rect></rect><foreignObject width="91.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Help Module</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ExcelExport-61" transform="translate(1334.06640625, 347)"><rect class="basic label-container" style="" x="-72.328125" y="-27" width="144.65625" height="54"></rect><g class="label" style="" transform="translate(-42.328125, -12)"><rect></rect><foreignObject width="84.65625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Excel Export</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ChartExport-63" transform="translate(1530.23046875, 347)"><rect class="basic label-container" style="" x="-73.8359375" y="-27" width="147.671875" height="54"></rect><g class="label" style="" transform="translate(-43.8359375, -12)"><rect></rect><foreignObject width="87.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Chart Export</p></span></div></foreignObject></g></g></g></g></g></svg>

## 2. Module Breakdown

### 2.1. Data Module (`mod_pre_lease_data.R`)

**Responsibility**: Central data management - database connections, data retrieval, transformations, and refresh operations.

```R
# Functions:
# - mod_pre_lease_data_server(): Manages all data operations and provides reactive datasets
# - fetch_pre_lease_summary_data(): Fetches and processes summary data
# - fetch_pre_lease_details_data(): Fetches and processes details data
# - refresh_entrata_data(): Refreshes data from Entrata API
# - update_property_data(): Updates property information in the database
```

This module acts as a data provider for all other modules, maintaining:

-   Database connections
-   Data refresh triggers
-   Core reactive datasets (summary, details, unit-level data)
-   Data transformation and processing logic

### 2.2. Value Boxes Module (`mod_pre_lease_value_boxes.R`)

**Responsibility**: Display key performance indicators in value boxes.

```R
# Functions:
# - mod_pre_lease_value_boxes_ui(): UI for value boxes
# - mod_pre_lease_value_boxes_server(): Server logic for value boxes
```

### 2.3. Sidebar Module (`mod_pre_lease_sidebar.R`)

**Responsibility**: Manage user input controls for filtering and configuring the display.

```R
# Functions:
# - mod_pre_lease_sidebar_ui(): UI for sidebar controls
# - mod_pre_lease_sidebar_server(): Server logic for sidebar controls
```

### 2.4. Summary Module (`mod_pre_lease_summary.R`)

**Responsibility**: Display and interact with the summary-level data table.

```R
# Functions:
# - mod_pre_lease_summary_ui(): UI for summary table
# - mod_pre_lease_summary_server(): Server logic for summary table
# - handle_edit_summary_row(): Logic for editing summary data
```

### 2.5. Details Module (`mod_pre_lease_details.R`)

**Responsibility**: Display property, unit, and detail level information.

```R
# Functions:
# - mod_pre_lease_details_ui(): UI for details accordion
# - mod_pre_lease_details_server(): Server logic for details
# - render_property_table(): Render property-level table
# - render_unit_table(): Render unit-level table
# - render_detail_table(): Render detail-level table
```

### 2.6. Charts Module (`mod_pre_lease_charts.R`)

**Responsibility**: Generate and display all charts for the module.

```R
# Functions:
# - mod_pre_lease_charts_ui(): UI for charts tab
# - mod_pre_lease_charts_server(): Server logic for charts
# - render_current_vs_prior_chart()
# - render_occupancy_chart()
# - render_velocity_chart()
# - render_pre_lease_rates_chart()
# - render_partner_distribution_chart()
# - render_portfolio_summary_chart()
# - render_weekly_activity_chart()
# - render_weekly_leasing_breakdown_chart()
# - render_yoy_variance_chart()
```

### 2.7. Export Module (`mod_pre_lease_export.R`)

**Responsibility**: Handle all data export functionality.

```R
# Functions:
# - mod_pre_lease_export_ui(): UI for export controls
# - mod_pre_lease_export_server(): Server logic for exports
# - generate_excel_report(): Excel report generation logic
# - export_charts(): Chart export functionality
```

### 2.8. Help Module (`mod_pre_lease_help.R`)

**Responsibility**: Provide help, documentation, and guidance for users.

```R
# Functions:
# - mod_pre_lease_help_ui(): UI for help button
# - mod_pre_lease_help_server(): Server logic for help features
# - show_help_modal(): Display help documentation
# - show_technical_docs(): Display technical documentation
```

### 2.9. Main Module (`mod_pre_lease.R`)

**Responsibility**: Integrate all sub-modules and provide the main API.

```R
# Functions:
# - mod_pre_lease_ui(): Main UI function
# - mod_pre_lease_server(): Main server function
# - mod_pre_lease_demo(): Demo application
```

## 3. Data Flow & State Management

<svg id="mermaid-zzsdktcxpmk" width="100%" xmlns="http://www.w3.org/2000/svg" class="flowchart" style="max-width: 1060.08203125px;" viewBox="0 0 1060.08203125 364.40728759765625" role="graphics-document document" aria-roledescription="flowchart-v2"><g><marker id="mermaid-zzsdktcxpmk_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-zzsdktcxpmk_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-zzsdktcxpmk_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-zzsdktcxpmk_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-zzsdktcxpmk_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-zzsdktcxpmk_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path d="M326.691,80.407L326.691,85.907C326.691,91.407,326.691,102.407,338.796,113.783C350.902,125.158,375.112,136.91,387.217,142.785L399.322,148.661" id="L_DB_DataModule_0" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-start="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointStart)" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M384.852,192.111L333.647,202.327C282.443,212.543,180.034,232.975,128.829,250.691C77.625,268.407,77.625,283.407,77.625,290.907L77.625,298.407" id="L_DataModule_ValueBoxes_1" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M384.852,203.514L361.378,211.829C337.904,220.145,290.956,236.776,272.68,252.708C254.404,268.639,264.8,283.871,269.998,291.487L275.196,299.103" id="L_DataModule_SummaryModule_2" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M485.623,204.407L493.813,212.574C502.003,220.741,518.382,237.074,526.572,252.741C534.762,268.407,534.762,283.407,534.762,290.907L534.762,298.407" id="L_DataModule_DetailsModule_3" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M532.242,196.925L567.787,206.339C603.332,215.752,674.422,234.58,709.967,251.494C745.512,268.407,745.512,283.407,745.512,290.907L745.512,298.407" id="L_DataModule_ChartsModule_4" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M532.242,188.689L602.705,199.475C673.168,210.261,814.094,231.834,884.557,250.121C955.02,268.407,955.02,283.407,955.02,290.907L955.02,298.407" id="L_DataModule_ExportModule_5" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M500.871,69.204L500.871,76.571C500.871,83.938,500.871,98.673,497.161,111.651C493.45,124.628,486.03,135.85,482.319,141.46L478.609,147.071" id="L_SidebarModule_DataModule_6" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M314.307,302.407L319.881,294.241C325.455,286.074,336.602,269.741,353.532,253.784C370.462,237.828,393.174,222.249,404.53,214.459L415.886,206.67" id="L_SummaryModule_DataModule_7" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M667.888,69.204L652.719,76.571C637.551,83.938,607.215,98.673,581.232,111.89C555.248,125.106,533.617,136.805,522.802,142.655L511.987,148.504" id="L_MainModule_DataModule_8" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M723.576,69.204L723.603,76.571C723.63,83.938,723.684,98.673,743.251,113.926C762.818,129.18,801.898,144.952,821.438,152.839L840.978,160.725" id="L_MainModule_UI_9" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path><path d="M894.551,69.204L894.551,76.571C894.551,83.938,894.551,98.673,893.497,111.552C892.443,124.431,890.335,135.455,889.281,140.967L888.227,146.478" id="L_User_UI_10" class=" edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="" marker-end="url(#mermaid-zzsdktcxpmk_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(77.625, 253.40729522705078)"><g class="label" transform="translate(-51.3125, -12)"><foreignObject width="102.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">summary_data</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(244.0078125, 253.40729522705078)"><g class="label" transform="translate(-51.3125, -12)"><foreignObject width="102.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">summary_data</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(534.76171875, 253.40729522705078)"><g class="label" transform="translate(-100, -24)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">summary_data, details_data, unit_data</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(745.51171875, 253.40729522705078)"><g class="label" transform="translate(-51.3125, -12)"><foreignObject width="102.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">summary_data</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(955.01953125, 253.40729522705078)"><g class="label" transform="translate(-97.0625, -12)"><foreignObject width="194.125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">summary_data, details_data</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(500.87109375, 113.40729522705078)"><g class="label" transform="translate(-19.453125, -12)"><foreignObject width="38.90625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">filters</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(347.75, 253.40729522705078)"><g class="label" transform="translate(-32.4296875, -12)"><foreignObject width="64.859375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">edit_data</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(576.87890625, 113.40729522705078)"><g class="label" transform="translate(-36.5546875, -12)"><foreignObject width="73.109375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">db_trigger</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(723.73828125, 113.40729522705078)"><g class="label" transform="translate(-90.3046875, -12)"><foreignObject width="180.609375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">integrate all sub-modules</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(894.55078125, 113.40729522705078)"><g class="label" transform="translate(-41.1640625, -12)"><foreignObject width="82.328125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="background-color: rgba(88, 88, 88, 0.5); display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255); background-color: rgb(88, 88, 88); text-align: center;"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px; background-color: rgb(88, 88, 88);">interactions</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default  " id="flowchart-DB-96" transform="translate(326.69140625, 42.20364761352539)"><path d="M0,9.80243161094225 a40.3125,9.80243161094225 0,0,0 80.625,0 a40.3125,9.80243161094225 0,0,0 -80.625,0 l0,48.80243161094225 a40.3125,9.80243161094225 0,0,0 80.625,0 l0,-48.80243161094225" class="basic label-container" style="" label-offset-y="9.80243161094225" transform="translate(-40.3125, -34.203647416413375)"></path><g class="label" style="" transform="translate(-32.8125, -2)"><rect></rect><foreignObject width="65.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">Database</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-DataModule-97" transform="translate(458.546875, 177.40729522705078)"><rect class="basic label-container" style="" x="-73.6953125" y="-27" width="147.390625" height="54"></rect><g class="label" style="" transform="translate(-43.6953125, -12)"><rect></rect><foreignObject width="87.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">DataModule</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ValueBoxes-99" transform="translate(77.625, 329.4072952270508)"><rect class="basic label-container" style="" x="-69.625" y="-27" width="139.25" height="54"></rect><g class="label" style="" transform="translate(-39.625, -12)"><rect></rect><foreignObject width="79.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">ValueBoxes</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-SummaryModule-101" transform="translate(295.87890625, 329.4072952270508)"><rect class="basic label-container" style="" x="-90.515625" y="-27" width="181.03125" height="54"></rect><g class="label" style="" transform="translate(-60.515625, -12)"><rect></rect><foreignObject width="121.03125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">SummaryModule</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-DetailsModule-103" transform="translate(534.76171875, 329.4072952270508)"><rect class="basic label-container" style="" x="-81.078125" y="-27" width="162.15625" height="54"></rect><g class="label" style="" transform="translate(-51.078125, -12)"><rect></rect><foreignObject width="102.15625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">DetailsModule</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ChartsModule-105" transform="translate(745.51171875, 329.4072952270508)"><rect class="basic label-container" style="" x="-79.671875" y="-27" width="159.34375" height="54"></rect><g class="label" style="" transform="translate(-49.671875, -12)"><rect></rect><foreignObject width="99.34375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">ChartsModule</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-ExportModule-107" transform="translate(955.01953125, 329.4072952270508)"><rect class="basic label-container" style="" x="-79.8359375" y="-27" width="159.671875" height="54"></rect><g class="label" style="" transform="translate(-49.8359375, -12)"><rect></rect><foreignObject width="99.671875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">ExportModule</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-SidebarModule-108" transform="translate(500.87109375, 42.20364761352539)"><rect class="basic label-container" style="" x="-83.8671875" y="-27" width="167.734375" height="54"></rect><g class="label" style="" transform="translate(-53.8671875, -12)"><rect></rect><foreignObject width="107.734375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">SidebarModule</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-MainModule-112" transform="translate(723.4765625, 42.20364761352539)"><rect class="basic label-container" style="" x="-74.953125" y="-27" width="149.90625" height="54"></rect><g class="label" style="" transform="translate(-44.953125, -12)"><rect></rect><foreignObject width="89.90625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">MainModule</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-UI-115" transform="translate(882.3125, 177.40729522705078)"><rect class="basic label-container" style="" x="-37.625" y="-27" width="75.25" height="54"></rect><g class="label" style="" transform="translate(-7.625, -12)"><rect></rect><foreignObject width="15.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">UI</p></span></div></foreignObject></g></g><g class="node default  " id="flowchart-User-116" transform="translate(894.55078125, 42.20364761352539)"><rect class="basic label-container" style="" x="-45.859375" y="-27" width="91.71875" height="54"></rect><g class="label" style="" transform="translate(-15.859375, -12)"><rect></rect><foreignObject width="31.71875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel " style="fill: rgb(255, 255, 255); color: rgb(255, 255, 255);"><p style="line-height: 1.25; white-space: pre-wrap; margin: 0px;">User</p></span></div></foreignObject></g></g></g></g></g></svg>

## 4. Implementation Strategy

1.  **Extract data module first** - This is the foundation for all other modules
2.  **Extract UI/visual components** - Value boxes, sidebar, summary, details, charts
3.  **Extract functional components** - Export, help
4.  **Refactor main module** - To use all submodules
5.  **Test each module** - Using the demo function

## 5. Roxygen Documentation Standards

Each module should have consistent documentation:

```R
#' Pre-Lease [Module Name] Module
#'
#' @description
#' This module handles [specific responsibility] for the GMH Pre-Lease dashboard.
#'
#' @name mod_pre_lease_[module_name]
#'
#' @param id Module's namespace ID.
#' @param ... Additional parameters specific to module.
#'
#' @returns
#' - `mod_pre_lease_[module_name]_ui()`: UI components.
#' - `mod_pre_lease_[module_name]_server()`: Server logic and reactive functions.
#'
#' @importFrom [package] [function]
```

## 6. Benefits of This Approach

1.  **Maintainability** - Smaller, focused files with clear responsibilities
2.  **Testability** - Each module can be tested in isolation
3.  **Readability** - Easier to understand code by logical grouping
4.  **Reusability** - Modules like charts, value boxes can be reused elsewhere
5.  **Collaboration** - Multiple developers can work on different modules

Would you like me to prioritize any spe